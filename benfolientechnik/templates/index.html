{% extends "base.html" %} 
{% load static %} 
{% block title %}
<title>Ben Folientechnik</title>
{% endblock %}
{% block extracss %}
<link rel="stylesheet" href="{% static 'css/index.css' %}?{% now 'U' %}"/>
{% endblock %} 
{% block content %}
  <div class="container">
    <div class="hero">
      <div class="logotext"><img src="{% static 'images/logo.png' %}" class="logoimage"></div>
      <div class="tagline">
        Professionelle Folienverarbeitung & Fahrzeugscheibentönung
      </div>

      <div class="features">
        <div class="feature">
          <div class="feature-icon"><i class="fa-solid fa-star"></i></div>
          <h3>Qualität</h3>
          <p>Premium Materialien und saubere Verarbeitung</p>
        </div>
        <div class="feature">
          <div class="feature-icon"><i class="fa-solid fa-bullseye"></i></div>
          <h3>Präzision</h3>
          <p>Millimetergenaue Arbeit</p>
        </div>
        <div class="feature">
          <div class="feature-icon"><i class="fa-solid fa-money-bill"></i></div>
          <h3>Fair</h3>
          <p>Transparente Preise ohne versteckte Kosten</p>
        </div>
      </div>
    </div>

    <div class="services">
      <div class="service-card">
        <div class="service-icon"><i class="fa-solid fa-copy"></i></div>
        <div class="service-title">Referenzen</div>
        <div class="service-description">
          Vorher,-Nacher Vergleiche einiger Projekte, absorvierte Kundenaufträge und vieles mehr.
        </div>
        <a href="{% url 'galerie' %}" class="service-btn">Mehr erfahren</a>
      </div>

      <div class="service-card">
        <div class="service-icon"><i class="fa-solid fa-layer-group"></i></div>
        <div class="service-title">Dienstleistungen</div>
        <div class="service-description">
          Professionelle <a href="{% url 'scheibentoenung' %}">Fahrzeugtönung</a> für Schutz und Style
          in einem - mit hochwertigen 3M Folien.
        </div>
        <a href="{% url 'scheibentoenung' %}" class="service-btn">Mehr erfahren</a>
      </div>
    </div>
    
    <!-- Bewertungen Vorschau -->
    <div class="reviews-section">
        <div class="reviews-title">Was unsere Kunden sagen</div>
        <div class="average-rating">
            <div class="average-stars">
                {% for star_type in star_types %}
                    {% if star_type == 'full' %}
                        <i class="fas fa-star"></i>
                    {% elif star_type == 'half' %}
                        <i class="fas fa-star-half-alt"></i>
                    {% else %}
                        <i class="far fa-star"></i>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="average-text">{{ average_rating }} von 5 Sternen ({{ total_reviews }} Bewertungen)</div>
        </div>
        <div class="reviews-grid">
            {% for review in featured_reviews %}
            <div class="review-card">
                <div class="stars">
                    {% for i in "12345" %}
                        {% if review.rating >= forloop.counter %}
                            <i class="fas fa-star"></i>
                        {% elif review.rating >= forloop.counter|add:-0.5 %}
                            <i class="fas fa-star-half-alt"></i>
                        {% else %}
                            <i class="far fa-star"></i>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="review-text">
                    "{{ review.comment|truncatechars:120 }}"
                </div>
                <div class="reviewer-name">- {{ review.name|default:"Anonym" }}</div>
            </div>
            {% empty %}
            <div class="review-card">
                <div class="stars">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                </div>
                <div class="review-text">
                    "Hervorragende Arbeit! Mein Auto sieht fantastisch aus. Ben ist sehr professionell und die Qualität ist top."
                </div>
                <div class="reviewer-name">- Michael K.</div>
            </div>
            <div class="review-card">
                <div class="stars">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                </div>
                <div class="review-text">
                    "Schnelle Terminvergabe, faire Preise und perfekte Umsetzung. Die Fahrzeugbeschriftung ist genau wie gewünscht geworden."
                </div>
                <div class="reviewer-name">- Sarah M.</div>
            </div>
            <div class="review-card">
                <div class="stars">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                </div>
                <div class="review-text">
                    "Sehr zufrieden mit der Folierung meines Transporters. Saubere Arbeit und gute Beratung. Gerne wieder!"
                </div>
                <div class="reviewer-name">- Thomas R.</div>
            </div>
            {% endfor %}
        </div>
        <a href="{% url 'bewertungen' %}" class="reviews-btn">Alle Bewertungen ansehen</a> 
    </div>

    <div class="cta-section">
      <div class="cta-title">Bereit für Ihr Projekt?</div>
      <div class="cta-subtitle">
        Kontaktieren Sie mich für eine kostenlose Beratung und
        Terminvereinbarung!<br />
        Ich beraten Sie gerne und erstellen Ihnen ein individuelles Angebot.
      </div>
      

      <a href="{% url 'kontakt' %}" class="contact-btn">
        <span><i class="fa-solid fa-phone"></i></span>
        Zur Kontaktseite
      </a>

      <div class="contact-info">
        <div><strong><i class="fa-solid fa-map-pin"></i> Standort:</strong> Otto-Renner-Straße 19, Neu-Ulm</div>
        <!-- <div>
         <strong><i class="fa-solid fa-clock"></i> Öffnungszeiten:</strong> Mo-Fr 8:00-18:00 Uhr | Sa
          9:00-14:00 Uhr
        </div>-->
        <div class="map-section" id="map-container">
      <div id="map-placeholder" style="padding: 2rem; border: 1px solid #ccc; background: #f9f9f9; text-align: center; display: none;">
        <p>Die Karte kann nicht angezeigt werden, da Sie der Verwendung von Cookies nicht zugestimmt haben.</p>
        <button onclick="reopenCookieBanner()">Cookie-Einstellungen öffnen</button>
      </div>
    </div>
  </div>
      </div>
    </div>


    

  <script>
    document
      .querySelector(".contact-btn")
      .addEventListener("mouseenter", function () {
        this.style.transform = "translateY(-2px) scale(1.02)";
      });

    document
      .querySelector(".contact-btn")
      .addEventListener("mouseleave", function () {
        this.style.transform = "translateY(0) scale(1)";
      });
  </script>

  {% endblock %}
